# redis实战

- 分布式锁

  - 线程获取锁流程

    给线程添加uuid <br/>
    -> 使用setnx获取锁，同时添加失效时间 <br/>
    -> 插入成功表示获取到了锁 <br/>
    -> 插入失败表示没有获取到锁<br/>
    -> 获取到锁后使用threadlocal记录uuid<br/>
    -> 获取失败继续进行setnx
  - 线程解锁过程

    使用lua进行解锁 <br/>
    ->
